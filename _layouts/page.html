---
layout: base
---

{% assign left-toc = site.data.book[page.book] %}

{% include header.html type="page" %}

<div class="container-xxl my-md-4 bd-layout" role="main">
  <div class="row">

    {% if page.before-content %}
      <div class="before-content">
        {% for file in page.before-content %}
          {% include {{ file }} %}
        {% endfor %}
      </div>
    {% endif %}

    <div class="container">
      <div class="row">
        {% if page.left-toc or page.right-toc %}
        <nav class="navbar navbar-expand-lg navbar-light bg-light sticky-top w-100 mb-3">
          <div class="container-fluid">
            {% if page.left-toc %}
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#leftTocCollapse" aria-controls="leftTocCollapse" aria-expanded="false" aria-label="Toggle Left TOC">
              Left TOC
            </button>
            {% endif %}

            {% if page.right-toc %}
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#rightTocCollapse" aria-controls="rightTocCollapse" aria-expanded="false" aria-label="Toggle Right TOC">
              Right TOC
            </button>
            {% endif %}

            <div class="collapse navbar-collapse" id="leftTocCollapse">
              {% if page.left-toc %}
              <div class="navbar-nav">
                <strong class="d-block h6 my-2 pb-2 border-bottom">Content</strong>
                {% include left-toc.html left-toc=left-toc %}
              </div>
              {% endif %}
            </div>

            <div class="collapse navbar-collapse" id="rightTocCollapse">
              {% if page.right-toc %}
              <div class="navbar-nav">
                <strong class="d-block h6 my-2 pb-2 border-bottom">On this page</strong>
                {% include right-toc.html html=content %}
              </div>
              {% endif %}
            </div>
          </div>
        </nav>
        {% endif %}

        <main class="col-12 col-md-7">
          <article class="markdown-body">
            {{ content }}
          </article>
        </main>
      </div>
    </div>
    
    {% if page.after-content %}
      <div class="after-content">
        {% for file in page.after-content %}
          {% include {{ file }} %}
        {% endfor %}
      </div>
    {% endif %}

    {% include comments.html %}
  </div>
</div>
